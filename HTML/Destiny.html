<!DOCTYPE html>
<html>
<head>
<title>Page Title</title>
<link rel="stylesheet" href="../CSS/basesite.css">
</head>
    
    
<body>
    <script src="../HIDDEN/hidden.js"></script>
    <script src="../JS/startup.js"></script>

    <div class="maincontainer">

        <div class="weaponscontainer">

            <div class="weaponcontainer">
                <div class="topitemcontainer">
                    <img class="itemimg">
                    <div class="itemtext">
                        <h1 class="itemname"></h1>
                        <h2 class="itempower">1250</h2>
                    </div>
                </div>
                <div class="itemperkcontainer"></div>
            </div>

            <div class="weaponcontainer">
                <div class="topitemcontainer">
                    <img class="itemimg">
                    <div class="itemtext">
                        <h1 class="itemname"></h1>
                        <h2 class="itempower">1250</h2>
                    </div>
                </div>
                <div class="itemperkcontainer"></div>
            </div>

            <div class="weaponcontainer">
                <div class="topitemcontainer">
                    <img class="itemimg">
                    <div class="itemtext">
                        <h1 class="itemname"></h1>
                        <h2 class="itempower">1250</h2>
                    </div>
                </div>
                <div class="itemperkcontainer"></div>
            </div>
        </div>
    </div>


    <script type="text/javascript">

///////////////////////////////////////////////////

function weaponview() {

    var baseimgpath = "https://www.bungie.net";
    var itemimg = document.getElementsByClassName("itemimg");
    var itemname = document.getElementsByClassName("itemname");
    var itempower = document.getElementsByClassName("itempower");
    var itemperkcontainer = document.getElementsByClassName("itemperkcontainer");
    var weaponcontainer = document.getElementsByClassName("weaponcontainer");
    
    weaponcontainer[0].style="border-right: solid;";
    weaponcontainer[1].style="border-right: solid;";

    for(var i = 0; i < itemimg.length; i++){
        itemimg[i].src = baseimgpath + user.characters[0].gear[i].static.displayProperties.icon;
        itemname[i].innerHTML = user.characters[0].gear[i].static.displayProperties.name;
        for(var j = 0; j < user.characters[0].gear[i].perks.length; j++){
            if(j != user.characters[0].gear[i].perks.length-2)
                itemperkcontainer[i].innerHTML += "<img src=\"" + baseimgpath + user.characters[0].gear[i].perks[j].displayProperties.icon + "\" class=\"weaponperk\">";
        }
    }
}

function createview() {
    weaponview();
}



/////////////////////////////////////////////////

        window.onload = function loadJSON(){
            createUser();


            setTimeout(() => {createview()}, 5000);
        }
    </script>
</body>
</html>